(self.webpackChunk_use_midi_docs=self.webpackChunk_use_midi_docs||[]).push([[834],{8819:function(n,e,t){"use strict";t.r(e),t.d(e,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return d},midi:function(){return a},App:function(){return f},default:function(){return b}});var a,r=t(7560),i=t(98283),u=t(2784),o=t(30876),s=t(81697),m=["components"],l={sidebar_position:2,sidebar_label:"Rmaz"},c="rmaz",p={unversionedId:"rmaz",id:"rmaz",isDocsHomePage:!1,title:"rmaz",description:"Coordinate requestMIDIAccess calls across your app and/or libraries.",source:"@site/documents/rmaz.mdx",sourceDirName:".",slug:"/rmaz",permalink:"/use-midi/documents/rmaz",editUrl:"https://github.com/tseijp/use-midi/edit/master/examples/documents/rmaz.mdx",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Rmaz"},sidebar:"tutorialSidebar",previous:{title:"Midi state",permalink:"/use-midi/documents/api/state"},next:{title:"TODO",permalink:"/use-midi/documents/todo"}},d=[{value:"Basic Examples",id:"basic-examples",children:[]}];function f(){var n=u.useState(0),e=n[0],t=n[1];u.useEffect((function(){(0,s.Rx)((function(n){return console.log(s.Rx.event),t((function(n){return n+1})),s.Rx.inputs.forEach((function(n){n.onmidimessage=function(n){s.Rx.outputs.forEach((function(e){e.send(n.data,n.timestamp)}))}})),!0}))}),[]);return(0,o.kt)(u.Fragment,null,(0,o.kt)("h4",null,"inputs"),(0,o.kt)("button",{onClick:function(){}},"add value ",e),Array.from(s.Rx.inputs||[]).map((function(n,e){return(0,o.kt)("div",{key:e},(0,o.kt)("h5",null,n[0]),(0,o.kt)("div",null,"name: ",n[1].name),(0,o.kt)("div",null,"type: ",n[1].type))})),(0,o.kt)("h4",null,"outputs"),Array.from(s.Rx.outputs||[]).map((function(n,e){return(0,o.kt)("div",{key:e},(0,o.kt)("h5",null,n[0]),(0,o.kt)("div",null,"name: ",n[1].name),(0,o.kt)("div",null,"type: ",n[1].type))})))}var k={toc:d,midi:a,App:f};function b(n){var e=n.components,t=(0,i.Z)(n,m);return(0,o.kt)("wrapper",(0,r.Z)({},k,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"rmaz"},"rmaz"),(0,o.kt)("p",null,"Coordinate ",(0,o.kt)("inlineCode",{parentName:"p"},"requestMIDIAccess")," calls across your app and/or libraries."),(0,o.kt)("p",null,"based on rafz: ",(0,o.kt)("inlineCode",{parentName:"p"},"requestAnimationFrame")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"raf => rma"),(0,o.kt)("li",{parentName:"ul"},"loop => change"),(0,o.kt)("li",{parentName:"ul"},"frame => access"),(0,o.kt)("li",{parentName:"ul"},"animation => midi")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { rma } from 'rmaz'\n\n// Schedule an update\nrma(ts => {})\n\n// Start an update loop\nrma(ts => true)\n\n// Cancel an update\nrma.cancel(fn)\n\n// Schedule a mutation\nrma.write(() => {})\n\n// Before any updates\nrma.onStart(() => {})\n\n// Before any mutations\nrma.onAccess(() => {})\n\n// After any mutations\nrma.onFinish(() => {})\n\n// Use a polyfill\nrma.use(require('@essentials/rma').rma)\n")),(0,o.kt)("h2",{id:"basic-examples"},"Basic Examples"),(0,o.kt)(f,{mdxType:"App"}))}b.isMDXComponent=!0}}]);